<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 720 420">
  <defs>
    <style>
      .label { font: 500 10px 'SF Mono', 'Menlo', 'Monaco', monospace; fill: #666; text-anchor: middle; letter-spacing: 0.5px; }
      .box-text { font: 600 12px 'SF Mono', 'Menlo', 'Monaco', monospace; fill: #1a1a1a; text-anchor: middle; }
      .title { font: 700 14px 'SF Mono', 'Menlo', 'Monaco', monospace; fill: #1a1a1a; text-anchor: middle; letter-spacing: 1px; }
      .annotation { font: 400 9px 'SF Mono', 'Menlo', 'Monaco', monospace; fill: #666; }
      .layer-title { font: 700 11px 'SF Mono', 'Menlo', 'Monaco', monospace; fill: #fff; text-anchor: middle; }
    </style>
    <marker id="arrow-down" markerWidth="8" markerHeight="6" refX="4" refY="6" orient="auto">
      <polygon points="0 0, 8 0, 4 6" fill="#6366f1"/>
    </marker>
    <marker id="arrow-right" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#6366f1"/>
    </marker>
    <!-- Orchestrator gradient -->
    <linearGradient id="orch-grad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#6366f1"/>
      <stop offset="100%" style="stop-color:#4f46e5"/>
    </linearGradient>
  </defs>

  <!-- Background -->
  <rect width="720" height="420" fill="#fff"/>

  <!-- Title -->
  <text x="360" y="28" class="title">MULTI-AGENT ORCHESTRATION WITH BROWSER AGENT</text>
  <text x="360" y="45" class="label">多 Agent 系统中的 Computer Use 定位</text>

  <!-- Orchestrator Layer -->
  <rect x="60" y="65" width="600" height="160" fill="#ede9fe" stroke="#6366f1" stroke-width="2" rx="8"/>
  <rect x="60" y="65" width="600" height="30" fill="url(#orch-grad)" rx="8" style="clip-path: inset(0 0 130px 0 round 8px);"/>
  <text x="360" y="85" class="layer-title">ORCHESTRATOR</text>

  <!-- Task box -->
  <rect x="250" y="105" width="220" height="35" fill="#fff" stroke="#6366f1" stroke-width="1.5" rx="4"/>
  <text x="360" y="127" class="box-text">任务: "提交报销申请"</text>

  <!-- Arrow down to agents -->
  <line x1="360" y1="140" x2="360" y2="160" stroke="#6366f1" stroke-width="2"/>
  <line x1="360" y1="160" x2="160" y2="180" stroke="#6366f1" stroke-width="1.5"/>
  <line x1="360" y1="160" x2="360" y2="180" stroke="#6366f1" stroke-width="1.5"/>
  <line x1="360" y1="160" x2="560" y2="180" stroke="#6366f1" stroke-width="1.5"/>

  <!-- Three Agents in Orchestrator -->
  <!-- Research Agent -->
  <g transform="translate(90, 180)">
    <rect x="0" y="0" width="140" height="35" fill="#dbeafe" stroke="#3b82f6" stroke-width="1.5" rx="4"/>
    <text x="70" y="15" class="box-text" style="font-size: 10px;">Research Agent</text>
    <text x="70" y="28" class="annotation">(搜索信息)</text>
  </g>

  <!-- Browser Agent (highlighted) -->
  <g transform="translate(290, 180)">
    <rect x="0" y="0" width="140" height="35" fill="#fce7f3" stroke="#db2777" stroke-width="2" rx="4"/>
    <text x="70" y="15" class="box-text" style="font-size: 10px; fill: #be185d;">Browser Agent</text>
    <text x="70" y="28" class="annotation" style="fill: #be185d;">(Computer Use)</text>
  </g>

  <!-- Summary Agent -->
  <g transform="translate(490, 180)">
    <rect x="0" y="0" width="140" height="35" fill="#d1fae5" stroke="#10b981" stroke-width="1.5" rx="4"/>
    <text x="70" y="15" class="box-text" style="font-size: 10px;">Summary Agent</text>
    <text x="70" y="28" class="annotation">(生成报告)</text>
  </g>

  <!-- Connection line from Browser Agent -->
  <line x1="360" y1="215" x2="360" y2="260" stroke="#db2777" stroke-width="2" marker-end="url(#arrow-down)"/>
  <text x="400" y="240" class="annotation" style="fill: #db2777;">gRPC/HTTP</text>

  <!-- Browser Automation Service Layer -->
  <rect x="120" y="270" width="480" height="120" fill="#1e293b" stroke="#334155" stroke-width="2" rx="8"/>
  <text x="360" y="295" class="layer-title" style="fill: #e2e8f0;">Browser Automation Service</text>
  <text x="360" y="315" class="annotation" style="fill: #94a3b8;">(Playwright / CDP / Puppeteer)</text>

  <!-- Browser windows inside -->
  <g transform="translate(160, 330)">
    <rect x="0" y="0" width="90" height="45" fill="#334155" stroke="#475569" stroke-width="1" rx="3"/>
    <rect x="5" y="5" width="80" height="10" fill="#475569" rx="2"/>
    <circle cx="12" cy="10" r="3" fill="#ef4444"/>
    <circle cx="22" cy="10" r="3" fill="#fbbf24"/>
    <circle cx="32" cy="10" r="3" fill="#22c55e"/>
    <rect x="5" y="18" width="80" height="22" fill="#1e293b" rx="2"/>
  </g>
  <g transform="translate(280, 330)">
    <rect x="0" y="0" width="90" height="45" fill="#334155" stroke="#475569" stroke-width="1" rx="3"/>
    <rect x="5" y="5" width="80" height="10" fill="#475569" rx="2"/>
    <circle cx="12" cy="10" r="3" fill="#ef4444"/>
    <circle cx="22" cy="10" r="3" fill="#fbbf24"/>
    <circle cx="32" cy="10" r="3" fill="#22c55e"/>
    <rect x="5" y="18" width="80" height="22" fill="#1e293b" rx="2"/>
  </g>
  <g transform="translate(400, 330)">
    <rect x="0" y="0" width="90" height="45" fill="#334155" stroke="#475569" stroke-width="1" rx="3"/>
    <rect x="5" y="5" width="80" height="10" fill="#475569" rx="2"/>
    <circle cx="12" cy="10" r="3" fill="#ef4444"/>
    <circle cx="22" cy="10" r="3" fill="#fbbf24"/>
    <circle cx="32" cy="10" r="3" fill="#22c55e"/>
    <rect x="5" y="18" width="80" height="22" fill="#1e293b" rx="2"/>
  </g>

  <!-- Legend -->
  <g transform="translate(540, 400)">
    <rect x="0" y="0" width="12" height="12" fill="#fce7f3" stroke="#db2777" stroke-width="1"/>
    <text x="18" y="10" class="annotation">= Computer Use 组件</text>
  </g>
</svg>
