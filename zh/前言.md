# 前言

## 为什么写这本书

2025 年下半年，我从AI理论的讲解转向了Agent的工程落地。起初觉得拿开源库构建企业可用的Agent系统是件很简单的事。然后当真正下手去构建一个生产级 Agent 系统时遇到了一个问题：市面上的教程要么停留在"调用 API 实现一个 chatbot"的 Demo 阶段，要么是某个框架的文档翻译。

当我需要回答这些问题时，找不到答案：

- 多个 Agent 之间如何协作？用 DAG 还是 Supervisor？
- Token 预算如何分配？单次调用还是整个 workflow？
- 工具执行出错了怎么重试？状态如何持久化？
- 企业环境下如何做权限控制和审计？

这些问题没有现成的答案，只能在踩坑中摸索。由于市面上的框架普通都有多少无法满足企业级需求的不足，所以觉得自己从零写一个。[Shannon](https://github.com/Kocoro-lab/Shannon) 就是这个摸索过程的产物——一个三层架构的多 Agent 系统，用 Go/Rust/Python 实现。

这本书是那些踩坑经验的系统整理。

---

## 这本书的写作理念

**模式优先，框架其次。**

市面上大多数 Agent 教程都绑定在某个框架上——LangChain 怎么用、CrewAI 怎么配置。框架会过时，但模式不会。

这本书的每一章都遵循这样的结构：

1. **先讲问题** —— 什么场景需要这个能力？
2. **再讲模式** —— 通用的设计模式是什么？（框架无关）
3. **然后看实现** —— 以 Shannon 为例展示一种实现方式
4. **最后对比** —— 其他框架如何解决同样的问题

如果你读完一章，能在任何框架中实现同样的模式——那这一章就成功了。

---

## 谁适合读这本书

**这本书适合你，如果：**

- 你想构建**生产级** Agent 系统，而不只是 Demo
- 你需要处理**多 Agent 协作**的复杂场景
- 你关心**成本控制、安全、可观测性**这些企业级问题
- 你想理解各种 Agent 框架背后的**设计模式**
- 你是后端开发者、架构师、或技术负责人

**这本书可能不适合你，如果：**

- 你只想快速调用 ChatGPT API（直接看官方文档）
- 你需要 Prompt Engineering 技巧集锦（有更专门的资料）
- 你从未接触过 LLM 相关概念（建议先了解基础）

---

## 如何阅读这本书

**快速入门（2-3 天）：**
```
Part 1 全部 → 第 3 章 → 第 13 章 → 第 20 章
```
目标：理解 Agent 基础、工具调用、多 Agent 编排、生产架构

**系统学习（2-3 周）：**
```
Part 1-8 顺序阅读，配合 Shannon 代码
```
目标：完整掌握从单 Agent 到企业级多 Agent 的全部内容

**前沿热点（1-2 天）：**
```
第 4 章(MCP) → 第 27 章(Computer Use) → 第 28 章(Agentic Coding)
```
目标：了解 2025-2026 年最热门的 Agent 话题

每章结尾都有"本章要点回顾"，你可以用它检验自己是否真正理解了核心概念。

---

## 关于代码

本书以 [Shannon](https://github.com/Kocoro-lab/Shannon) 作为参考实现，但**不是** Shannon 的使用手册。

Shannon 采用三层架构：

```
Orchestrator (Go)    - 编排、预算、策略
Agent Core (Rust)    - 执行、沙箱、限流
LLM Service (Python) - 推理、工具、向量
```

书中的代码示例展示的是**设计模式**，不是框架 API。你完全可以用 LangGraph、CrewAI 或自己的框架实现同样的模式。

---

## 关于时效性

AI Agent 领域发展极快。MCP 协议在 2024 年底才发布，Computer Use 还在快速迭代中。

本书对高变动性内容会明确标注：

> **时效性提示** (2026-01): 本节内容基于 MCP 规范 v1.0。
> 请查阅最新文档确认是否有更新。

核心的架构模式相对稳定，但具体的 API 和工具可能会变化。遇到疑问时，请以官方文档为准。

---

## 致谢

感谢所有在 Agent 系统构建过程中给予帮助的同事和朋友。

感谢开源社区的贡献者们——LangChain、LangGraph、CrewAI、AutoGen 等项目让我们站在巨人的肩膀上。

感谢 Claude Code、OpenAI Codex 的编程工具和模型推动了代码快速撰写的能力边界，让这个 Agent 编排框架和平台从概念迅速变成了现实。

---

**[Wayland Zhang](https://waylandz.com)**

2026 年 1 月

*"The best way to learn is to build."*

---

## 勘误与反馈

如果你发现书中的错误，或有任何建议，欢迎通过以下方式联系：

- GitHub Issues: [本书仓库](https://github.com/Kocoro-lab/ai-agent-book)
- Shannon OSS: [github.com/Kocoro-lab/Shannon](https://github.com/Kocoro-lab/Shannon)

技术书籍难免有疏漏，感谢你的理解和帮助。
