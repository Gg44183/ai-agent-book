# はじめに

## なぜこの本を書いたのか

2025年後半、筆者はAI理論の解説からエージェントの実装へと軸足を移しました。当初は、オープンソースライブラリを使って企業で使えるエージェントシステムを構築するのは簡単だと思っていました。しかし、実際に本番環境で動くエージェントシステムを作ろうとしたとき、ある問題に直面しました。世の中のチュートリアルは「APIを叩いてチャットボットを作る」というデモレベルか、特定フレームワークのドキュメント翻訳ばかりだったのです。

次のような疑問に答えられる資料が見つかりませんでした：

- 複数のエージェント間でどう連携させるか？DAGかSupervisorか？
- トークン予算をどう配分する？1回の呼び出し単位か、ワークフロー全体か？
- ツール実行でエラーが起きたらどうリトライする？状態はどう永続化する？
- 企業環境での権限管理や監査はどうする？

これらの疑問に対する既存の答えはなく、試行錯誤の中で学んでいくしかありませんでした。既存のフレームワークには企業レベルの要件を満たせない部分が多々あり、結局ゼロから自分で作ることにしました。[Shannon](https://github.com/Kocoro-lab/Shannon)は、その試行錯誤の産物です。Go/Rust/Pythonで実装した3層アーキテクチャのマルチエージェントシステムです。

本書は、その試行錯誤で得た知見を体系的にまとめたものです。

---

## 本書の執筆理念

**パターンが先、フレームワークは後。**

世の中のエージェント系チュートリアルの多くは、特定のフレームワークに依存しています──LangChainの使い方、CrewAIの設定方法、といった具合に。フレームワークは廃れますが、パターンは廃れません。

本書の各章は以下の構成に従っています：

1. **まず問題を提示する** ── どんな場面でこの機能が必要になるか？
2. **次にパターンを解説する** ── 汎用的な設計パターンは何か？（フレームワーク非依存）
3. **そして実装を見せる** ── Shannonを例に一つの実装方法を示す
4. **最後に比較する** ── 他のフレームワークは同じ問題をどう解決しているか

各章を読み終えたとき、どんなフレームワークでも同じパターンを実装できるようになっていれば──その章は成功です。

---

## 本書の対象読者

**本書が向いている方：**

- **本番環境で動く**エージェントシステムを構築したい方（デモではなく）
- **マルチエージェント連携**という複雑なシナリオに取り組む方
- **コスト管理、セキュリティ、オブザーバビリティ**といったエンタープライズ課題に関心がある方
- 様々なエージェントフレームワークの背後にある**設計パターン**を理解したい方
- バックエンドエンジニア、アーキテクト、技術責任者

**本書が向いていない可能性がある方：**

- ChatGPT APIを手軽に呼び出したいだけの方（公式ドキュメントを参照してください）
- プロンプトエンジニアリングのテクニック集を探している方（専門の資料があります）
- LLMの基本概念に触れたことがない方（まず基礎を学ぶことをお勧めします）

---

## 本書の読み方

**クイックスタート（2〜3日）：**
```
Part 1 全体 → 第3章 → 第13章 → 第20章
```
目標：エージェントの基礎 → ツール呼び出し → マルチエージェント編成 → 本番アーキテクチャを理解する

**体系的な学習（2〜3週間）：**
```
Part 1〜8 を順番に読み、Shannonのコードと照らし合わせる
```
目標：単一エージェントからエンタープライズ級マルチエージェントまでの全体像を習得する

**最新トレンド（1〜2日）：**
```
第4章(MCP) → 第27章(Computer Use) → 第28章(Agentic Coding)
```
目標：2025〜2026年で最もホットなエージェント関連トピックを把握する

各章の末尾には「本章のポイント」があります。核心となる概念を本当に理解できたかどうか、これで確認できます。

---

## コードについて

本書は[Shannon](https://github.com/Kocoro-lab/Shannon)を参考実装として使用していますが、Shannonの使い方マニュアル**ではありません**。

Shannonは3層アーキテクチャを採用しています：

```
Orchestrator (Go)    - 編成、予算管理、ポリシー
Agent Core (Rust)    - 実行、サンドボックス、レート制限
LLM Service (Python) - 推論、ツール、ベクトル検索
```

本書のコード例が示しているのは**設計パターン**であり、フレームワークのAPIではありません。LangGraph、CrewAI、あるいは独自のフレームワークでも、同じパターンを実装できます。

---

## 情報の鮮度について

AIエージェント分野は極めて速いペースで進化しています。MCPプロトコルは2024年末に公開されたばかりで、Computer Useもまだ急速に発展中です。

本書では、変化が激しい内容には明確に注記しています：

> **【鮮度注意】** (2026-01): 本節の内容はMCP仕様v1.0に基づいています。
> 最新のドキュメントで更新がないか確認してください。

核心的なアーキテクチャパターンは比較的安定していますが、具体的なAPIやツールは変わる可能性があります。疑問があれば、公式ドキュメントを参照してください。

---

## 謝辞

エージェントシステムの構築過程でお世話になったすべての同僚や友人に感謝します。

オープンソースコミュニティの貢献者の皆様──LangChain、LangGraph、CrewAI、AutoGenなどのプロジェクトのおかげで、私たちは巨人の肩の上に立つことができています。

Claude Code、OpenAI Codexなどのプログラミングツールとモデルにも感謝します。コードを高速に書く能力の限界を押し広げ、このエージェント編成フレームワークとプラットフォームをコンセプトから現実へと素早く変えてくれました。

---

**[Wayland Zhang](https://waylandz.com)**

2026年1月

*"The best way to learn is to build."*

---

## 正誤表・フィードバック

本書の誤りを発見された場合、またはご提案がある場合は、以下の方法でご連絡ください：

- GitHub Issues: [本書リポジトリ](https://github.com/Kocoro-lab/ai-agent-book)
- Shannon OSS: [github.com/Kocoro-lab/Shannon](https://github.com/Kocoro-lab/Shannon)

技術書には誤りがつきものです。ご理解とご協力に感謝いたします。
