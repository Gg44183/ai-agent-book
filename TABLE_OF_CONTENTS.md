# AI Agent 架构：从单体到企业级多智能体
## 完整目录

---

> **2025-2026 热点话题快速导航**
>
> - **Human-in-the-Loop**：第 15 章 (15.12) — 人机协作、升级触发、中断接管、信任升级
> - **MCP 协议**：第 4 章 — Model Context Protocol 工具标准化
> - **Computer Use**：第 27 章 — 浏览器/桌面自动化
> - **Agentic Coding**：第 28 章 — Claude Code / Devin 模式

---

### 前言
- [前言 - 为什么写这本书](./前言.md)

---

## Part 1：Agent 基础
> *理解 Agent 的本质与核心运行机制*

| 章节 | 标题 | 核心内容 |
|------|------|----------|
| 第 1 章 | [Agent 的本质](./Part1-Agent基础/第01章：Agent的本质.md) | Agent 定义、与传统软件的区别、自主性边界 |
| 第 2 章 | [ReAct 循环](./Part1-Agent基础/第02章：ReAct循环.md) | Reason-Act 循环、观察-思考-行动、循环终止条件 |

---

## Part 2：工具与扩展
> *让 Agent 具备与外部世界交互的能力*

| 章节 | 标题 | 核心内容 |
|------|------|----------|
| 第 3 章 | [工具调用基础](./Part2-工具与扩展/第03章：工具调用基础.md) | Function Calling、工具定义、参数校验 |
| 第 4 章 | [MCP 协议详解](./Part2-工具与扩展/第04章：MCP协议详解.md) | Model Context Protocol、传输层、资源与工具 |
| 第 5 章 | [Skills 技能系统](./Part2-工具与扩展/第05章：Skills技能系统.md) | 可复用能力封装、技能组合、动态加载 |
| 第 6 章 | [Hooks 与事件系统](./Part2-工具与扩展/第06章：Hooks与事件系统.md) | 生命周期钩子、事件触发、扩展点设计 |

---

## Part 3：上下文与记忆
> *管理 Agent 的短期记忆与长期知识*

| 章节 | 标题 | 核心内容 |
|------|------|----------|
| 第 7 章 | [上下文窗口管理](./Part3-上下文与记忆/第07章：上下文窗口管理.md) | Token 限制、上下文压缩、滑动窗口策略 |
| 第 8 章 | [记忆架构](./Part3-上下文与记忆/第08章：记忆架构.md) | 短期/长期记忆、向量存储、记忆检索 |
| 第 9 章 | [多轮对话设计](./Part3-上下文与记忆/第09章：多轮对话设计.md) | 会话状态、上下文传递、对话管理 |

---

## Part 4：单 Agent 模式
> *单个 Agent 的高级思维与自我改进能力*

| 章节 | 标题 | 核心内容 |
|------|------|----------|
| 第 10 章 | [Planning 模式](./Part4-单Agent模式/第10章：Planning模式.md) | 任务分解、计划生成、动态调整 |
| 第 11 章 | [Reflection 模式](./Part4-单Agent模式/第11章：Reflection模式.md) | 自我评估、错误修正、迭代改进 |
| 第 12 章 | [Chain-of-Thought](./Part4-单Agent模式/第12章：Chain-of-Thought.md) | 思维链推理、逐步分析、推理可解释性 |

---

## Part 5：多 Agent 编排
> *多个 Agent 协作完成复杂任务*

| 章节 | 标题 | 核心内容 |
|------|------|----------|
| 第 13 章 | [编排基础](./Part5-多Agent编排/第13章：编排基础.md) | 编排 vs 协作、通信模式、任务分配 |
| 第 14 章 | [DAG 工作流](./Part5-多Agent编排/第14章：DAG工作流.md) | 有向无环图、并行执行、依赖管理 |
| 第 15 章 | [Supervisor 模式](./Part5-多Agent编排/第15章：Supervisor模式.md) | 监督者架构、任务路由、**Human-in-the-Loop**、升级触发、中断接管 |
| 第 16 章 | [Handoff 机制](./Part5-多Agent编排/第16章：Handoff机制.md) | Agent 间任务交接、状态传递、上下文保持 |

---

## Part 6：高级推理
> *复杂问题的多路径探索与综合*

| 章节 | 标题 | 核心内容 |
|------|------|----------|
| 第 17 章 | [Tree-of-Thoughts](./Part6-高级推理/第17章：Tree-of-Thoughts.md) | 思维树搜索、分支探索、路径评估 |
| 第 18 章 | [Debate 模式](./Part6-高级推理/第18章：Debate模式.md) | 多 Agent 辩论、观点对抗、共识达成 |
| 第 19 章 | [Research-Synthesis](./Part6-高级推理/第19章：Research-Synthesis.md) | 多源研究、信息综合、报告生成 |

---

## Part 7：生产架构
> *从 Demo 到生产环境的架构演进*

| 章节 | 标题 | 核心内容 |
|------|------|----------|
| 第 20 章 | [三层架构设计](./Part7-生产架构/第20章：三层架构设计.md) | Orchestrator/Agent/LLM 分层、职责划分 |
| 第 21 章 | [Temporal 工作流](./Part7-生产架构/第21章：Temporal工作流.md) | 持久化执行、故障恢复、长时任务 |
| 第 22 章 | [可观测性](./Part7-生产架构/第22章：可观测性.md) | 链路追踪、指标监控、日志聚合 |

---

## Part 8：企业级特性
> *大规模部署的治理与安全*

| 章节 | 标题 | 核心内容 |
|------|------|----------|
| 第 23 章 | [Token 预算控制](./Part8-企业级特性/第23章：Token预算控制.md) | 成本管理、配额分配、用量监控 |
| 第 24 章 | [策略治理](./Part8-企业级特性/第24章：策略治理.md) | OPA 策略引擎、权限控制、审计日志 |
| 第 25 章 | [安全执行](./Part8-企业级特性/第25章：安全执行.md) | WASI 沙箱、代码隔离、资源限制 |
| 第 26 章 | [多租户设计](./Part8-企业级特性/第26章：多租户设计.md) | 租户隔离、资源配额、数据分离 |

---

## Part 9：前沿实践
> *2024-2025 年最新的 Agent 应用方向*

| 章节 | 标题 | 核心内容 |
|------|------|----------|
| 第 27 章 | [Computer Use](./Part9-前沿实践/第27章：Computer%20Use.md) | 浏览器自动化、桌面操作、GUI 交互 |
| 第 28 章 | [Agentic Coding](./Part9-前沿实践/第28章：Agentic%20Coding.md) | 代码生成、自动修复、开发辅助 |
| 第 29 章 | [Background Agents](./Part9-前沿实践/第29章：Background%20Agents.md) | 后台执行、异步任务、长时运行 |
| 第 30 章 | [分层模型策略](./Part9-前沿实践/第30章：分层模型策略.md) | 模型路由、成本优化、能力匹配 |

---

## 附录

| 附录 | 标题 | 核心内容 |
|------|------|----------|
| 附录 A | [术语表](./附录/附录A：术语表.md) | 核心概念定义、中英对照 |
| 附录 B | [模式选择指南](./附录/附录B：模式选择指南.md) | 决策树、场景匹配、配置示例 |
| 附录 C | [常见问题 FAQ](./附录/附录C：常见问题FAQ.md) | 27 个高频问题解答 |

---

## 统计信息

| 指标 | 数值 |
|------|------|
| 总章节数 | 30 章 |
| 附录数 | 3 篇 |
| Part 数量 | 9 个主题 |
| 参考实现 | [Shannon OSS](https://github.com/Kocoro-lab/Shannon) |

---

## 学习路径建议

### 快速入门（2-3 天）
```
Part 1 全部 → 第 3 章 → 第 13 章 → 第 20 章
```
目标：Agent 基础 → 工具调用 → 多 Agent 编排 → 生产架构

### 深入理解（1-2 周）
```
Part 1-5 顺序阅读
```
目标：掌握从单 Agent 到多 Agent 编排的完整知识体系

### 完整学习（3-4 周）
```
全书顺序阅读，配合 Shannon 代码实践
```
目标：具备设计和实现生产级 Agent 系统的能力

### 生产部署（按需）
```
Part 7 + Part 8
```
目标：架构设计、治理策略、安全执行

### 前沿热点（1-2 天）
```
第 4 章(MCP) → 第 15 章 15.12(HITL) → 第 27 章(Computer Use) → 第 28 章(Agentic Coding)
```
目标：了解 2025-2026 年最热门的 Agent 话题（MCP、Human-in-the-Loop、Computer Use、Agentic Coding）
